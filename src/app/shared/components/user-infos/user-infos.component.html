<div class="container">

    <h2>Mes informations</h2>

    <div class="infos">
        <div class="up">
            <div class="user">
                <p>{{user.firstname}} {{user.lastname}}</p>
                <p>{{user.email}}</p>
            </div>
            <div *ngIf="retrievedImage" class="rounded"><img [src]="retrievedImage"></div>
            <img class="picture" *ngIf="!retrievedImage" src="../../../assets/img/cutegoldendog-1652637928757-890.jpg">
        </div>

        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
                <span id="close" (click)="closeForm()">&times;</span>
                <form class="container__form">
                    <h2>Upload Image</h2>
                    <input type="file" (change)="onFileChanged($event)">
                    <button (click)="submit()">Upload</button>
                </form>
                <div *ngIf=message>{{message}}</div>

            </div>
        
        </div>

        <div class="down">
            <a>Modifier mes informations</a>
            <a (click)="openForm()">Changer l'avatar</a>
        </div>
    </div>

    <h2>Mon prochain trajet</h2>    

    <p *ngIf="ride == null" class=""> Aucun trajet réservé </p>
    <div *ngIf="ride != null">
        
        <div class="next-ride">
            <div class="container">
                <a [routerLink]="['/trajet', ride.id_ride]">

                    <div class="up">
                    <h3>{{ride.date | date :'mediumDate':'+01:00':'fr'}}</h3>
                    <div class="pilot">
                        <img src="../../../../assets/img/polite-frog.png">
                        <h3>{{ride.firstName}}</h3>
                    </div>
                    </div>
                    <div class="down">
                        <div class="itinary" *ngIf="ride.home_to_office">
                            <h3>{{ride.date.substring(11, 16)}} - IPI POE → {{ride.arrival_time?.substring(0, 5)}} - {{ride.city.charAt(0).toUpperCase() + ride.city.slice(1)}}</h3>
                        </div>
                        <div class="itinary" *ngIf="!ride.home_to_office">
                            <h3>{{ride.date.substring(11, 16)}} - {{ride.city.charAt(0).toUpperCase() + ride.city.slice(1)}} → {{ride.arrival_time?.substring(0, 5)}} - IPI POE</h3>
                        </div>
                        <a class="cancel"> Annuler </a>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
